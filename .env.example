# Sample environment configuration for the RAG application.
#
# Copy this file to `.env` in the project root. Only `OPENAI_API_KEY` and
# `JWT_SECRET` need to be customised for local development; the remaining values
# have sensible defaults. The variables defined here will be loaded by
# pydantic-settings during startup.

# OpenAI API credentials
OPENAI_API_KEY=your_key_here
OPENAI_MODEL=gpt-4o-mini

# Embedding configuration
EMBEDDING_PROVIDER=openai
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_CACHE_DB=./data/embedding_cache.sqlite3
# Retrieval options
USE_BM25=true
USE_RERANKER=false
BM25_INDEX_DIR=./data/bm25
RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2

JWT_SECRET=change-me
ACCESS_TOKEN_EXPIRE_MINUTES=60
# Allow web apps served from either localhost or 127.0.0.1 on the common dev ports
ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,http://localhost:8080,http://127.0.0.1:8080

VITE_API_BASE_URL=http://127.0.0.1:8000
VITE_APP_DOMAIN=manufacturing

SQLALCHEMY_DATABASE_URI=sqlite:///data/app.db
CHROMA_PERSIST_DIR=./data/chroma
RAW_DOCS_DIR=./data/raw

MAX_UPLOAD_MB=25
TOP_K=8
MMR_LAMBDA=0.5
ANSWER_TEMPERATURE=0.2

# Domain selection
APP_DOMAIN=manufacturing

# Optional regex to match additional origins (e.g. your LAN IP)
ALLOWED_ORIGIN_REGEX=^https?://(localhost|127\.0\.0\.1|192\.168\.\d+\.\d+)(:\d+)?$
